<div class="task-create-container">
    <button type="button" class="btn btn-primary add-task-btn" (click)="toggleCollapse()"
        [attr.aria-expanded]="!isCollapsed()" [attr.aria-controls]="collapseId">
        <i class="fa-solid fa-plus"></i> Add new task
    </button>

    <div [id]="collapseId" [collapse]="isCollapsed()" [isAnimated]="true" class="mt-3">
        <div class="card card-body">
            <form [formGroup]="form" (ngSubmit)="onSubmit()">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" class="form-control" id="title" formControlName="title"
                        placeholder="Enter task title">
                    @if (form.get('title')?.invalid && form.get('title')?.touched) {
                    <div class="text-danger small mt-1">Title must be at least 3 characters</div>
                    }
                </div>

                <div class="d-flex justify-content-end">
                    <button type="submit" [disabled]="form.invalid" class="btn btn-success">
                        Add Task
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>